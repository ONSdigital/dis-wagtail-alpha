{% extends "templates/base_page.html" %}

{% from "components/table-of-contents/_macro.njk" import onsTableOfContents %}

{% block main %}
    <h1>{{ page.title }}</h1>

    {% if page.summary %}
        <p>{{ page.summary }}</p>
    {% endif %}

    {% if page.toc %}
        <div class="ons-grid ons-js-toc-container ons-u-ml-no ons-u-mt-s">
            <div class="ons-grid__col ons-grid__col--sticky@m ons-col-4@m ons-u-p-no">
                {# fmt:off #}
                {{-
                    onsTableOfContents({
                        "title": 'Table of contents',
                        "ariaLabel": 'Sections in this page',
                        "itemsList": page.toc
                    })
                }}
                {# fmt:on #}
            </div>

            <div class="ons-grid__col ons-col-8@m ons-col-12@s ons-u-p-no@xxs@m">
                {% for section_title, section in page.sections.items() %}
                    <section id="{{ section_title|slugify() }}">
                        <h2>{{ section_title }}</h2>
                        {{ section }}
                    </section>
                {% endfor %}
            </div>
        </div>
    {% endif %}
{% endblock %}
